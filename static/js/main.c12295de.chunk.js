(this.webpackJsonpnews_app=this.webpackJsonpnews_app||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(4),r=n.n(s),i=(n(14),n(15),n(7)),o=n.n(i),u=n(8),l=n(2),j=n(9),d=(n(17),n(0)),b=function(e){var t=e.children,n=e.handleOutsideClick;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"modal-bg",onClick:n}),r.a.createPortal(t,document.getElementById("modal"))]})},h=(n(19),function(e){var t=e.handleCategoryAddition,n=e.categories,a=Object(c.useState)(""),s=Object(l.a)(a,2),r=s[0],i=s[1],o=Object(c.useState)("https://newsapi.org/v2/everything?q=business&apiKey=API_KEY"),u=Object(l.a)(o,2),j=u[0],b=u[1],h=Object(c.useState)(""),O=Object(l.a)(h,2),f=O[0],m=O[1],g=Object(c.useState)(""),x=Object(l.a)(g,2),p=x[0],v=x[1];return Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsx)("div",{className:"form-header",children:"Add Category"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""==r||n.some((function(e){return e.name==r}))?m(!0):""==j||n.some((function(e){return e.url==j}))?v(!0):t(r,j)},children:[Object(d.jsx)("input",{className:"form-input",placeholder:"Category Name",onChange:function(e){return i(e.target.value)}}),f&&Object(d.jsx)("span",{className:"form-error",children:"Enter an unique valid name"}),Object(d.jsx)("input",{className:"form-input",placeholder:"API URL",value:j,onChange:function(e){return b(e.target.value)}}),p&&Object(d.jsx)("span",{className:"form-error",children:"Enter an valid URL"}),Object(d.jsx)("input",{className:"form-submit",type:"submit",value:"Add"})]})]})}),O=(n(20),n.p+"static/media/add_icon.a5c65f21.svg"),f="TechCrunch",m=[{name:f,url:"https://newsapi.org/v2/everything?q=".concat(f,"&apiKey=API_KEY")}],g=function(e){var t=e.fetchNews,n=Object(c.useState)(m),a=Object(l.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),u=o[0],g=o[1],x=Object(c.useState)(f),p=Object(l.a)(x,2),v=p[0],w=p[1];Object(c.useEffect)((function(){t(s[0].url)}),[]);var N=function(e){w(e.name),t(e.url)};return Object(d.jsxs)("div",{className:"category-list",children:[s.map((function(e){return Object(d.jsx)("div",{className:"category ".concat(e.name==v&&"active"),onClick:function(){return N(e)},children:e.name},e.name)})),Object(d.jsx)("button",{className:"category add-button ".concat(5==s.length&&"disabled"),onClick:function(){return 5!=s.length&&g(!0)},children:Object(d.jsx)("img",{src:O,alt:""})}),u&&Object(d.jsx)(b,{handleOutsideClick:function(){return g(!1)},children:Object(d.jsx)(h,{categories:s,handleCategoryAddition:function(e,t){r((function(n){return[].concat(Object(j.a)(n),[{name:e,url:t}])})),g(!1),N({name:e,url:t})}})})]})},x=(n(21),n.p+"static/media/search_icon.8a477c85.svg"),p=function(e){var t=e.filterData;return Object(d.jsxs)("div",{className:"search-box-container",children:[Object(d.jsx)("img",{className:"search-icon",src:x,alt:""}),Object(d.jsx)("input",{className:"search-box",type:"text",placeholder:"Search for keywords, Authors",onChange:function(e){t(e.target.value)}})]})},v=(n(22),function(e){var t=e.data,n=new Date(t.publishedAt).toLocaleString();return Object(d.jsxs)("div",{className:"news-item-container",children:[Object(d.jsx)("img",{className:"news-image",src:t.urlToImage,alt:""}),Object(d.jsxs)("div",{className:"news-text",children:[Object(d.jsx)("div",{className:"news-header",children:t.title}),Object(d.jsxs)("div",{className:"news-meta",children:[Object(d.jsx)("span",{children:t.author})," \u25cf ",Object(d.jsx)("span",{children:n})]}),Object(d.jsx)("div",{className:"news-content",children:t.description})]})]})}),w=function(e){var t=e.newsData,n=e.filterText,c=e.isError,a=e.isLoading,s=n?t.filter((function(e){return e.author&&e.title&&(e.author.toLowerCase().includes(n)||e.title.toLowerCase().includes(n))})):t;return console.log("isLoading--",a),Object(d.jsxs)("div",{children:[a&&Object(d.jsx)("div",{children:"Loading..."}),c&&!a&&Object(d.jsx)("div",{children:"Something went wrong!"}),!c&&!a&&s.map((function(e){return Object(d.jsx)(v,{data:e},"".concat(e.author).concat(e.publishedAt))}))]})},N=(n(23),function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(l.a)(s,2),i=r[0],j=r[1],b=Object(c.useState)(!1),h=Object(l.a)(b,2),O=h[0],f=h[1],m=Object(c.useState)(""),x=Object(l.a)(m,2),v=x[0],N=x[1],y=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetchNews"),f(!0),j(!1),e.prev=3,e.next=6,fetch(t.replace("API_KEY","a5cf886a8dd84801a01c8b5bd0da1b0d"));case 6:return n=e.sent,e.next=9,n.json();case 9:c=e.sent,console.log("response == ",n),c&&"ok"==c.status&&Array.isArray(c.articles)?(console.log("setting news state"),a(c.articles)):j(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),j(!0);case 17:f(!1);case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return console.log("news == ",n),Object(d.jsxs)("div",{className:"news-container",children:[Object(d.jsx)("h1",{children:"News Today "}),Object(d.jsx)(g,{fetchNews:y}),Object(d.jsx)(p,{filterData:function(e){return N(e.toLowerCase())}}),Object(d.jsx)(w,{isError:i,isLoading:O,newsData:n,filterText:v})]})});var y=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(N,{})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),C()}],[[24,1,2]]]);
//# sourceMappingURL=main.c12295de.chunk.js.map